<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emoji World Game</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.6/babel.min.js"></script>
    <style>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
        }
        #root {
            text-align: center;
        }
        canvas {
            border: 2px solid black;
        }
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .modal-content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            max-width: 60%;
            max-height: 80%;
            overflow-y: auto;
            position: relative;
        }
        .close-button {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 24px;
            cursor: pointer;
            background: none;
            border: none;
            padding: 0;
        }
        .map-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }
        .map-cell {
            padding: 10px;
            border-radius: 5px;
            text-align: center;
        }
        .map-emoji {
            font-size: 36px;
        }
        .map-name {
            font-size: 12px;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const zones = [
            { emoji: "ðŸŒ³", color: "#228B22", name: "la forÃªt", landmarks: ["ðŸŒ²", "ðŸ„", "â›²"] },
            { emoji: "ðŸ™ï¸", color: "#808080", name: "la ville", landmarks: ["ðŸ¢", "ðŸš¦", "ðŸš—"] },
            { emoji: "ðŸ”ï¸", color: "#FFFFFF", name: "les montagnes", landmarks: ["â›°ï¸", "ðŸ”ï¸", "ðŸ—»"] },
            { emoji: "ðŸŒŠ", color: "#0000FF", name: "l'ocÃ©an", landmarks: ["ðŸ ", "ðŸ–ï¸", "ðŸš"] },
            { emoji: "ðŸ­", color: "#696969", name: "la zone industrielle", landmarks: ["ðŸ­", "ðŸ”§", "ðŸš›"] },
            { emoji: "ðŸœï¸", color: "#FFD700", name: "le dÃ©sert", landmarks: ["ðŸŒµ", "ðŸª", "ðŸœï¸"] },
            { emoji: "ðŸŒ¾", color: "#DAA520", name: "les champs", landmarks: ["ðŸŒ¾", "ðŸšœ", "ðŸ„"] },
            { emoji: "ðŸ«", color: "#9ACD32", name: "le campus universitaire", landmarks: ["ðŸ«", "ðŸ“š", "ðŸ”¬"] },
            { emoji: "ðŸŒ‹", color: "#8B4513", name: "la zone volcanique", landmarks: ["ðŸŒ‹", "ðŸ”¥", "ðŸ§±"] }
        ];

        const zoneHints = {
            "ðŸŒ³": [
                "Cherchez la zone oÃ¹ les arbres poussent en abondance",
                "Votre objectif se cache parmi les feuillages",
                "Dirigez-vous vers l'endroit oÃ¹ l'air est rempli du chant des oiseaux",
                "La rÃ©ponse se trouve lÃ  oÃ¹ la canopÃ©e bloque le soleil",
                "Explorez la rÃ©gion oÃ¹ la nature rÃ¨gne en maÃ®tre",
                "Votre destin vous attend dans le royaume vert",
                "Suivez le chemin bordÃ© de mousse et de fougÃ¨res",
                "La clÃ© de l'Ã©nigme se cache dans l'ombre des grands chÃªnes",
                "Cherchez lÃ  oÃ¹ les Ã©cureuils font leurs provisions",
                "Votre quÃªte vous mÃ¨ne au cÅ“ur de la forÃªt primaire"
            ],
            "ðŸ™ï¸": [
                "Dirigez-vous vers l'endroit oÃ¹ les bÃ¢timents touchent le ciel",
                "Votre quÃªte vous mÃ¨ne au cÅ“ur de la jungle urbaine",
                "Cherchez parmi les rues animÃ©es et les gratte-ciels",
                "La rÃ©ponse se cache dans le labyrinthe de bÃ©ton et d'acier",
                "Explorez lÃ  oÃ¹ les lumiÃ¨res de la ville ne s'Ã©teignent jamais",
                "Votre objectif se trouve au carrefour de la modernitÃ©",
                "Suivez le rythme effrÃ©nÃ© de la vie citadine",
                "La clÃ© de l'Ã©nigme est cachÃ©e dans l'ombre des tours vertigineuses",
                "Cherchez lÃ  oÃ¹ le mÃ©tro tisse sa toile souterraine",
                "Votre destin vous attend dans le quartier des affaires"
            ],
            "ðŸ”ï¸": [
                "Allez vers les sommets enneigÃ©s",
                "Votre objectif se trouve lÃ  oÃ¹ l'air se rarÃ©fie",
                "Cherchez dans les hauteurs majestueuses",
                "La rÃ©ponse vous attend au-dessus des nuages",
                "Explorez le royaume des aigles",
                "Votre destin est liÃ© aux pics rocheux",
                "Suivez le sentier qui serpente vers les cimes",
                "La clÃ© de l'Ã©nigme se cache dans les crevasses glaciaires",
                "Cherchez lÃ  oÃ¹ les avalanches grondent au loin",
                "Votre quÃªte vous mÃ¨ne au toit du monde"
            ],
            "ðŸŒŠ": [
                "Plongez dans l'aventure marine",
                "Votre destin est liÃ© aux courants de l'ocÃ©an",
                "Explorez le royaume des crÃ©atures aquatiques",
                "La rÃ©ponse se cache parmi les rÃ©cifs colorÃ©s",
                "Suivez le chemin des dauphins joueurs",
                "Votre quÃªte vous emmÃ¨ne vers les trÃ©sors engloutis",
                "Cherchez lÃ  oÃ¹ les algues dansent au rythme des marÃ©es",
                "La clÃ© de l'Ã©nigme flotte dans les profondeurs azurÃ©es",
                "Explorez l'endroit oÃ¹ les vagues murmurent des secrets",
                "Votre objectif se trouve lÃ  oÃ¹ l'horizon rencontre l'eau"
            ],
            "ðŸ­": [
                "Cherchez la zone oÃ¹ les machines ne dorment jamais",
                "Votre objectif se trouve parmi les cheminÃ©es fumantes",
                "La rÃ©ponse est cachÃ©e dans le vrombissement des moteurs",
                "Explorez le cÅ“ur battant de l'industrie",
                "Votre mission vous mÃ¨ne aux entrailles de la production",
                "Suivez le chemin des tapis roulants",
                "La clÃ© de l'Ã©nigme repose sur une chaÃ®ne de montage",
                "Cherchez lÃ  oÃ¹ l'acier se plie Ã  la volontÃ© de l'homme",
                "Votre quÃªte vous emmÃ¨ne dans les coulisses de la technologie",
                "Dirigez-vous vers l'endroit oÃ¹ les idÃ©es deviennent rÃ©alitÃ©"
            ],
            "ðŸœï¸": [
                "Votre destination est lÃ  oÃ¹ le sable s'Ã©tend Ã  perte de vue",
                "Cherchez dans l'immensitÃ© dorÃ©e",
                "La mission vous attend lÃ  oÃ¹ le soleil rÃ¨gne en maÃ®tre",
                "Explorez le royaume de la chaleur et du silence",
                "Votre objectif se cache parmi les dunes mouvantes",
                "Suivez les traces des caravanes anciennes",
                "La clÃ© de l'Ã©nigme repose dans l'ombre d'un oasis",
                "Cherchez lÃ  oÃ¹ les mirages dansent Ã  l'horizon",
                "Votre destin est Ã©crit dans les Ã©toiles du dÃ©sert",
                "Dirigez-vous vers l'endroit oÃ¹ le vent sculpte le paysage"
            ],
            "ðŸŒ¾": [
                "Cherchez l'endroit oÃ¹ les cÃ©rÃ©ales ondulent au vent",
                "Votre objectif se trouve parmi les Ã©pis dorÃ©s",
                "La rÃ©ponse se cache dans le labyrinthe des champs",
                "Explorez le grenier du monde",
                "Votre mission vous mÃ¨ne au cÅ“ur de la terre nourriciÃ¨re",
                "Suivez le chemin tracÃ© par les tracteurs",
                "La clÃ© de l'Ã©nigme est enfouie dans le sol fertile",
                "Cherchez lÃ  oÃ¹ les Ã©pouvantails montent la garde",
                "Votre quÃªte vous emmÃ¨ne vers les vastes prairies",
                "Dirigez-vous vers l'endroit oÃ¹ la nature et l'homme collaborent"
            ],
            "ðŸ«": [
                "Votre destination est le lieu du savoir et de la dÃ©couverte",
                "Cherchez parmi les salles de classe et les laboratoires",
                "La rÃ©ponse se cache dans les pages des livres anciens",
                "Explorez le berceau des futures gÃ©nÃ©rations",
                "Votre objectif se trouve lÃ  oÃ¹ les esprits s'Ã©veillent",
                "Suivez le chemin tracÃ© par les Ã©tudiants ambitieux",
                "La clÃ© de l'Ã©nigme est inscrite sur un tableau noir",
                "Cherchez dans la bibliothÃ¨que aux Ã©tagÃ¨res infinies",
                "Votre destin vous attend dans l'amphithÃ©Ã¢tre du savoir",
                "Dirigez-vous vers l'endroit oÃ¹ les idÃ©es changent le monde"
            ],
            "ðŸŒ‹": [
                "Cherchez l'endroit oÃ¹ la terre crache du feu",
                "Votre objectif se trouve au bord du cratÃ¨re fumant",
                "La rÃ©ponse bouillonne dans les profondeurs de la terre",
                "Explorez le domaine de Vulcain",
                "Votre mission vous mÃ¨ne au cÅ“ur de la puissance tellurique",
                "Suivez le chemin tracÃ© par les coulÃ©es de lave",
                "La clÃ© de l'Ã©nigme repose sur un champ de cendres",
                "Cherchez lÃ  oÃ¹ les geysers jaillissent vers le ciel",
                "Votre quÃªte vous emmÃ¨ne vers les forges de la planÃ¨te",
                "Dirigez-vous vers l'endroit oÃ¹ la croÃ»te terrestre s'ouvre"
            ]
        };

        const landmarkHints = {
            "ðŸŒ²": [
                "Cherchez prÃ¨s de l'endroit oÃ¹ on peut construire des cabanes",
                "Votre objectif est cachÃ© parmi les conifÃ¨res",
                "Regardez autour des arbres les plus hauts",
                "La rÃ©ponse se trouve prÃ¨s de l'ombre des grands pins",
                "Explorez lÃ  oÃ¹ l'air est parfumÃ© de rÃ©sine",
                "Votre destin vous attend sous la canopÃ©e verte",
                "Cherchez prÃ¨s des arbres qui restent verts toute l'annÃ©e",
                "La clÃ© se cache oÃ¹ les pommes de pin jonchent le sol",
                "Explorez autour des sentiers bordÃ©s d'Ã©picÃ©as",
                "Votre quÃªte vous mÃ¨ne prÃ¨s des gÃ©ants Ã  l'Ã©corce rugueuse"
            ],
            "ðŸ„": [
                "Il y a quelque chose d'intÃ©ressant prÃ¨s des champignons comestibles",
                "Cherchez dans la zone oÃ¹ poussent les champignons colorÃ©s",
                "Votre mission vous attend prÃ¨s du cercle de champignons",
                "La clÃ© se cache parmi les spores et les mycÃ©liums",
                "Explorez l'endroit oÃ¹ la forÃªt rÃ©vÃ¨le ses secrets souterrains",
                "Votre objectif se trouve lÃ  oÃ¹ les fÃ©es dansent la nuit",
                "Cherchez prÃ¨s des champignons qui brillent dans l'obscuritÃ©",
                "La rÃ©ponse pousse lÃ  oÃ¹ l'humiditÃ© nourrit la vie",
                "Explorez autour des champignons gÃ©ants aux formes Ã©tranges",
                "Votre destin est liÃ© au royaume silencieux des dÃ©composeurs"
            ],
            "â›²": [
                "Trouvez l'endroit oÃ¹ l'eau jaillit du sol",
                "Votre objectif est prÃ¨s de la source d'eau cristalline",
                "Cherchez lÃ  oÃ¹ l'eau chante une mÃ©lodie Ã©ternelle",
                "La rÃ©ponse se cache prÃ¨s des jets d'eau dansants",
                "Explorez autour du point de rencontre favori du parc",
                "Votre destin vous attend prÃ¨s du murmure de l'eau",
                "Cherchez lÃ  oÃ¹ les piÃ¨ces scintillent sous la surface",
                "La clÃ© se trouve prÃ¨s de la sculpture aquatique centrale",
                "Explorez autour du lieu oÃ¹ les amoureux font des vÅ“ux",
                "Votre quÃªte vous mÃ¨ne vers l'oasis urbaine rafraÃ®chissante"
            ],
            "ðŸ¢": [
                "Votre objectif est prÃ¨s des gratte-ciels",
                "Cherchez dans l'ombre des tours de verre et d'acier",
                "La rÃ©ponse se trouve au cÅ“ur du quartier des affaires",
                "Explorez lÃ  oÃ¹ les ascenseurs montent vers le ciel",
                "Votre destin vous attend dans le labyrinthe des bureaux",
                "Regardez prÃ¨s des faÃ§ades qui reflÃ¨tent les nuages",
                "La clÃ© se cache dans le hall d'un immeuble imposant",
                "Cherchez prÃ¨s des antennes qui couronnent les buildings",
                "Explorez la zone oÃ¹ les cols blancs s'affairent",
                "Votre quÃªte vous mÃ¨ne vers les sommets de la ville"
            ],
            "ðŸš¦": [
                "Cherchez prÃ¨s des feux de circulation",
                "Votre objectif se trouve Ã  un carrefour animÃ©",
                "La rÃ©ponse clignote en rouge, jaune et vert",
                "Explorez l'endroit oÃ¹ le trafic pulse comme un cÅ“ur urbain",
                "Votre destin vous attend au rythme des changements de feux",
                "Regardez prÃ¨s des passages piÃ©tons zÃ©brÃ©s",
                "La clÃ© se cache lÃ  oÃ¹ les voitures s'arrÃªtent et repartent",
                "Cherchez Ã  l'intersection des flux de la ville",
                "Explorez la zone oÃ¹ les piÃ©tons et les vÃ©hicules se cÃ´toient",
                "Votre quÃªte vous mÃ¨ne vers le point nÃ©vralgique de la circulation"
            ],
            "ðŸš—": [
                "L'objectif est prÃ¨s d'un parking",
                "Cherchez dans la zone oÃ¹ les voitures se reposent",
                "La rÃ©ponse se trouve parmi les lignes blanches au sol",
                "Explorez l'endroit oÃ¹ les conducteurs laissent leurs vÃ©hicules",
                "Votre destin vous attend prÃ¨s des bornes de paiement",
                "Regardez autour des places rÃ©servÃ©es aux handicapÃ©s",
                "La clÃ© se cache prÃ¨s des rampes d'accÃ¨s au parking",
                "Cherchez prÃ¨s des panneaux indiquant les niveaux",
                "Explorez la zone oÃ¹ les voitures Ã©lectriques se rechargent",
                "Votre quÃªte vous mÃ¨ne vers le hub de stationnement urbain"
            ],
            "â›°ï¸": [
                "Votre objectif est au pied d'une montagne",
                "Cherchez prÃ¨s des sentiers de randonnÃ©e escarpÃ©s",
                "La rÃ©ponse se trouve lÃ  oÃ¹ la terre s'Ã©lÃ¨ve vers le ciel",
                "Explorez l'endroit oÃ¹ les alpinistes commencent leur ascension",
                "Votre destin vous attend dans l'ombre de la montagne majestueuse",
                "Regardez prÃ¨s des rochers couverts de lichen",
                "La clÃ© se cache dans une grotte au pied de la montagne",
                "Cherchez lÃ  oÃ¹ les ruisseaux de montagne prennent leur source",
                "Explorez la zone oÃ¹ la faune alpine trouve refuge",
                "Votre quÃªte vous mÃ¨ne vers le gardien de pierre des hauteurs"
            ],
            "ðŸ”ï¸": [
                "Cherchez prÃ¨s des sommets enneigÃ©s",
                "Votre objectif se trouve lÃ  oÃ¹ l'air se rarÃ©fie",
                "La rÃ©ponse est cachÃ©e dans les nuages qui embrassent les pics",
                "Explorez l'endroit oÃ¹ les aigles font leur nid",
                "Votre destin vous attend sur les pentes immaculÃ©es",
                "Regardez prÃ¨s des crevasses glaciaires profondes",
                "La clÃ© se cache dans un refuge de haute montagne",
                "Cherchez lÃ  oÃ¹ les avalanches ont faÃ§onnÃ© le paysage",
                "Explorez la zone oÃ¹ les alpinistes plantent leurs drapeaux",
                "Votre quÃªte vous mÃ¨ne vers le toit du monde"
            ],
            "ðŸ—»": [
                "Votre objectif est prÃ¨s du volcan endormi",
                "Cherchez dans les environs du cÃ´ne parfait",
                "La rÃ©ponse se trouve lÃ  oÃ¹ la terre rencontre le feu",
                "Explorez les pentes couvertes de cendres anciennes",
                "Votre destin vous attend prÃ¨s du cratÃ¨re silencieux",
                "Regardez autour des sources chaudes fumantes",
                "La clÃ© se cache dans les roches volcaniques poreuses",
                "Cherchez prÃ¨s des coulÃ©es de lave solidifiÃ©es",
                "Explorez la zone oÃ¹ la vÃ©gÃ©tation reprend ses droits",
                "Votre quÃªte vous guide vers le gÃ©ant assoupi de la terre"
            ],
            "ðŸ ": [
                "Plongez prÃ¨s des rÃ©cifs colorÃ©s",
                "Votre objectif nage parmi les coraux",
                "La rÃ©ponse se cache dans les eaux cristallines",
                "Explorez les grottes sous-marines secrÃ¨tes",
                "Votre destin vous attend dans le royaume des poissons tropicaux",
                "Cherchez prÃ¨s des anÃ©mones dansantes",
                "La clÃ© se trouve dans le jardin sous-marin",
                "Nagez vers l'endroit oÃ¹ les poissons-clowns jouent",
                "Explorez la zone oÃ¹ les raies glissent gracieusement",
                "Votre quÃªte vous emmÃ¨ne vers la symphonie silencieuse des profondeurs"
            ],
            "ðŸ–ï¸": [
                "Cherchez lÃ  oÃ¹ le sable rencontre l'eau",
                "Votre objectif est cachÃ© parmi les parasols colorÃ©s",
                "Regardez prÃ¨s des chÃ¢teaux de sable Ã©phÃ©mÃ¨res",
                "La rÃ©ponse flotte sur les vagues douces du rivage",
                "Explorez l'endroit oÃ¹ les vacanciers se prÃ©lassent au soleil",
                "Votre destin vous attend prÃ¨s des dunes de sable chaud",
                "Cherchez lÃ  oÃ¹ les enfants collectionnent des coquillages",
                "La clÃ© se trouve prÃ¨s des filets de volleyball de plage",
                "Explorez la zone oÃ¹ les palmiers offrent une ombre rafraÃ®chissante",
                "Votre quÃªte vous mÃ¨ne vers le paradis des baigneurs"
            ],
            "ðŸš": [
                "Explorez l'endroit oÃ¹ on peut collecter des trÃ©sors de la mer",
                "Votre objectif se cache parmi les coquillages nacrÃ©s",
                "Cherchez prÃ¨s du rivage aprÃ¨s la marÃ©e basse",
                "La rÃ©ponse est enfouie dans le sable humide",
                "Regardez lÃ  oÃ¹ les bernard-l'hermite cherchent une nouvelle maison",
                "Votre destin est liÃ© aux spirales naturelles des coquilles",
                "Explorez la zone oÃ¹ l'ocÃ©an dÃ©pose ses plus beaux ornements",
                "La clÃ© se trouve parmi les formes et couleurs variÃ©es des coquillages",
                "Cherchez prÃ¨s des rochers couverts de moules et de patelles",
                "Votre quÃªte vous mÃ¨ne vers un musÃ©e naturel marin"
            ],
            "ðŸ­": [
                "Votre objectif est prÃ¨s des cheminÃ©es industrielles",
                "Cherchez autour des entrepÃ´ts massifs",
                "La rÃ©ponse se trouve dans la zone de production",
                "Explorez l'endroit oÃ¹ les machines bourdonnent sans cesse",
                "Votre destin vous attend prÃ¨s des cuves de traitement",
                "Regardez autour des convoyeurs en mouvement perpÃ©tuel",
                "La clÃ© se cache dans la salle de contrÃ´le centrale",
                "Cherchez prÃ¨s des silos de stockage imposants",
                "Explorez la zone oÃ¹ les camions chargent et dÃ©chargent",
                "Votre quÃªte vous guide vers le cÅ“ur de la production industrielle"
            ],
            "ðŸ”§": [
                "Votre objectif est prÃ¨s de l'atelier de rÃ©paration",
                "Cherchez autour des Ã©tablis couverts d'outils",
                "La rÃ©ponse se trouve parmi les piÃ¨ces mÃ©caniques Ã©parpillÃ©es",
                "Explorez l'endroit oÃ¹ les moteurs reprennent vie",
                "Votre destin vous attend prÃ¨s des ponts Ã©lÃ©vateurs",
                "Regardez autour des manuels techniques ouverts",
                "La clÃ© se cache dans la boÃ®te Ã  outils du maÃ®tre mÃ©canicien",
                "Cherchez prÃ¨s des voitures en cours de restauration",
                "Explorez la zone oÃ¹ l'odeur d'huile et de mÃ©tal rÃ¨gne",
                "Votre quÃªte vous mÃ¨ne vers le cÅ“ur battant de la mÃ©canique"
            ],
            "ðŸš›": [
                "L'objectif est prÃ¨s du dÃ©pÃ´t de camions",
                "Cherchez dans le parking des poids lourds",
                "La rÃ©ponse se trouve lÃ  oÃ¹ les routiers font une pause",
                "Explorez l'endroit oÃ¹ les marchandises sont chargÃ©es et dÃ©chargÃ©es",
                "Votre destin vous attend prÃ¨s des pompes Ã  carburant pour camions",
                "Regardez autour des Ã©normes remorques alignÃ©es",
                "La clÃ© se cache dans la cabine d'un camion long-courrier",
                "Cherchez prÃ¨s du panneau d'affichage des itinÃ©raires",
                "Explorez la zone oÃ¹ les mÃ©caniciens entretiennent les mastodontes",
                "Votre quÃªte vous guide vers les gÃ©ants de la route"
            ],
            "ðŸŒµ": [
                "L'objectif est prÃ¨s d'un cactus gÃ©ant",
                "Cherchez dans l'ombre rare du dÃ©sert",
                "La rÃ©ponse se trouve parmi les Ã©pines protectrices",
                "Explorez l'endroit oÃ¹ la vie dÃ©fie l'ariditÃ©",
                "Votre destin vous attend prÃ¨s de l'oasis naturelle",
                "Regardez autour des fleurs de cactus Ã©phÃ©mÃ¨res",
                "La clÃ© se cache dans les bras Ã©tendus du saguaro",
                "Cherchez lÃ  oÃ¹ les oiseaux du dÃ©sert font leur nid",
                "Explorez la zone oÃ¹ le vert contraste avec le sable",
                "Votre quÃªte vous mÃ¨ne vers le gardien Ã©pineux du dÃ©sert"
            ],
            "ðŸª": [
                "Cherchez prÃ¨s de l'oasis oÃ¹ les chameaux se reposent",
                "Votre objectif se trouve le long des anciennes routes caravaniÃ¨res",
                "La rÃ©ponse est cachÃ©e prÃ¨s des dunes oÃ¹ les dromadaires laissent leurs empreintes",
                "Explorez l'endroit oÃ¹ les nomades font une halte",
                "Votre destin vous attend prÃ¨s des abreuvoirs du dÃ©sert",
                "Regardez autour des palmiers qui offrent de l'ombre",
                "La clÃ© se cache prÃ¨s des selles ornÃ©es des chameaux",
                "Cherchez dans la zone oÃ¹ les 'navires du dÃ©sert' se rassemblent",
                "Explorez prÃ¨s des tentes des chameliers",
                "Votre quÃªte vous guide vers les maÃ®tres de l'adaptation dÃ©sertique"
            ],
            "ðŸœï¸": [
                "Votre objectif est cachÃ© dans les dunes dorÃ©es",
                "Cherchez lÃ  oÃ¹ le mirage danse Ã  l'horizon",
                "La rÃ©ponse se trouve dans le silence du dÃ©sert profond",
                "Explorez les formations rocheuses sculptÃ©es par le vent",
                "Votre destin vous attend dans la vallÃ©e des sables mouvants",
                "Regardez autour des rares touffes de vÃ©gÃ©tation rÃ©sistante",
                "La clÃ© se cache sous un ancien morceau de poterie brisÃ©e",
                "Cherchez prÃ¨s des traces d'animaux du dÃ©sert",
                "Explorez la zone oÃ¹ les dunes chantent au vent",
                "Votre quÃªte vous emmÃ¨ne au cÅ“ur du dÃ©sert inexplorÃ©"
            ],
            "ðŸŒ¾": [
                "Votre objectif est cachÃ© dans les hautes herbes",
                "Cherchez prÃ¨s des Ã©pis dorÃ©s ondulant au vent",
                "La rÃ©ponse se trouve au milieu d'un champ de blÃ©",
                "Explorez l'endroit oÃ¹ les tracteurs ont laissÃ© leurs traces",
                "Votre destin vous attend prÃ¨s d'un Ã©pouvantail solitaire",
                "Regardez autour des silos Ã  grains imposants",
                "La clÃ© se cache dans un vieux moulin Ã  vent",
                "Cherchez lÃ  oÃ¹ les abeilles butinent les fleurs sauvages",
                "Explorez la zone oÃ¹ les fermiers rÃ©coltent leurs cultures",
                "Votre quÃªte vous mÃ¨ne au cÅ“ur des terres fertiles"
            ],
            "ðŸšœ": [
                "Votre objectif est prÃ¨s des champs cultivÃ©s",
                "Cherchez autour des tracteurs au repos",
                "La rÃ©ponse se trouve lÃ  oÃ¹ la terre est fraÃ®chement labourÃ©e",
                "Explorez l'endroit oÃ¹ les machines agricoles sont garÃ©es",
                "Votre destin vous attend prÃ¨s des silos Ã  grains",
                "Regardez autour des granges rouges traditionnelles",
                "La clÃ© se cache prÃ¨s des systÃ¨mes d'irrigation modernes",
                "Cherchez dans la zone oÃ¹ les fermiers prÃ©parent leurs Ã©quipements",
                "Explorez prÃ¨s des champs oÃ¹ les cultures poussent en rangÃ©es nettes",
                "Votre quÃªte vous mÃ¨ne vers le cÅ“ur de l'agriculture moderne"
            ],
            "ðŸ„": [
                "Cherchez prÃ¨s de la ferme laitiÃ¨re",
                "Votre objectif se cache parmi les vaches paisibles",
                "La rÃ©ponse se trouve prÃ¨s des pÃ¢turages verdoyants",
                "Explorez l'endroit oÃ¹ le lait frais est collectÃ©",
                "Votre destin vous attend prÃ¨s des Ã©tables bien entretenues",
                "Regardez autour des clÃ´tures qui dÃ©limitent les champs",
                "La clÃ© se cache prÃ¨s des machines Ã  traire modernes",
                "Cherchez dans la zone oÃ¹ les veaux gambadent",
                "Explorez prÃ¨s des silos d'alimentation cylindriques",
                "Votre quÃªte vous guide vers les producteurs du fromage local"
            ],
            "ðŸ«": [
                "Votre objectif est prÃ¨s du bÃ¢timent principal du campus",
                "Cherchez autour de la bibliothÃ¨que universitaire",
                "La rÃ©ponse se trouve dans une salle de cours animÃ©e",
                "Explorez l'endroit oÃ¹ les Ã©tudiants se rassemblent entre les cours",
                "Votre destin vous attend prÃ¨s du laboratoire de recherche",
                "Regardez autour du terrain de sport de l'universitÃ©",
                "La clÃ© se cache dans le bureau d'un professeur renommÃ©",
                "Cherchez prÃ¨s de la rÃ©sidence Ã©tudiante",
                "Explorez la zone oÃ¹ les affiches annoncent les Ã©vÃ©nements du campus",
                "Votre quÃªte vous mÃ¨ne au cÅ“ur de la vie estudiantine"
            ],
            "ðŸ“š": [
                "Cherchez parmi les Ã©tagÃ¨res de livres anciens",
                "Votre objectif se cache dans la section des ouvrages rares",
                "La rÃ©ponse est inscrite dans un grimoire poussiÃ©reux",
                "Explorez l'endroit oÃ¹ le silence rÃ¨gne en maÃ®tre",
                "Votre destin vous attend prÃ¨s du bureau des bibliothÃ©caires",
                "Regardez autour des tables d'Ã©tude",
                "La clÃ© se trouve dans le catalogue numÃ©rique",
                "Cherchez prÃ¨s des archives historiques",
                "Explorez la zone des pÃ©riodiques et des journaux",
                "Votre quÃªte vous guide vers la source infinie du savoir"
            ],
            "ðŸ”¬": [
                "Cherchez prÃ¨s du laboratoire de recherche",
                "Votre objectif se trouve parmi les Ã©prouvettes et les microscopes",
                "La rÃ©ponse est cachÃ©e dans les donnÃ©es des expÃ©riences en cours",
                "Explorez l'endroit oÃ¹ les scientifiques percent les mystÃ¨res de l'univers",
                "Votre destin vous attend prÃ¨s des machines d'analyse sophistiquÃ©es",
                "Regardez autour des tableaux blancs couverts d'Ã©quations",
                "La clÃ© se cache dans l'incubateur de cultures bactÃ©riennes",
                "Cherchez prÃ¨s des ordinateurs qui modÃ©lisent des molÃ©cules",
                "Explorez la zone stÃ©rile oÃ¹ les combinaisons sont obligatoires",
                "Votre quÃªte vous mÃ¨ne vers la frontiÃ¨re de la connaissance scientifique"
            ],
            "ðŸŒ‹": [
                "Votre objectif est prÃ¨s du cratÃ¨re fumant",
                "Cherchez dans les environs des coulÃ©es de lave rÃ©centes",
                "La rÃ©ponse se trouve lÃ  oÃ¹ la terre gronde",
                "Explorez les formations rocheuses crÃ©Ã©es par l'Ã©ruption",
                "Votre destin vous attend prÃ¨s des fumerolles sulfureuses",
                "Regardez autour des instruments de surveillance sismique",
                "La clÃ© se cache dans une grotte formÃ©e par la lave",
                "Cherchez prÃ¨s des sources chaudes aux couleurs surrÃ©alistes",
                "Explorez la zone oÃ¹ la vÃ©gÃ©tation reprend ses droits sur la cendre",
                "Votre quÃªte vous guide vers le cÅ“ur ardent de la Terre"
            ],
            "ðŸ”¥": [
                "Votre objectif est prÃ¨s des geysers",
                "Cherchez autour des jets de vapeur brÃ»lante",
                "La rÃ©ponse se trouve lÃ  oÃ¹ la terre crache de l'eau bouillante",
                "Explorez l'endroit oÃ¹ le sol tremble de chaleur",
                "Votre destin vous attend prÃ¨s des mares aux couleurs surrÃ©alistes",
                "Regardez autour des panneaux avertissant du danger",
                "La clÃ© se cache dans les dÃ©pÃ´ts minÃ©raux aux formes Ã©tranges",
                "Cherchez prÃ¨s des sources chaudes oÃ¹ les gens se baignent",
                "Explorez la zone oÃ¹ les volcanologues prennent leurs mesures",
                "Votre quÃªte vous guide vers les soupapes de la Terre"
            ],
            "ðŸ§±": [
                "L'objectif est prÃ¨s des formations rocheuses volcaniques",
                "Cherchez parmi les colonnes de basalte hexagonales",
                "La rÃ©ponse est gravÃ©e dans la pierre nÃ©e du feu",
                "Explorez l'endroit oÃ¹ la lave s'est solidifiÃ©e en formes fantastiques",
                "Votre destin vous attend prÃ¨s des cavernes creusÃ©es par les coulÃ©es",
                "Regardez autour des falaises striÃ©es par les Ã©ruptions passÃ©es",
                "La clÃ© se cache dans les bulles figÃ©es de la roche volcanique",
                "Cherchez prÃ¨s des champs de lave refroidie aux formes tourmentÃ©es",
                "Explorez la zone oÃ¹ les gÃ©ologues Ã©tudient l'histoire de la Terre",
                "Votre quÃªte vous mÃ¨ne vers les tÃ©moins solides de la fureur du volcan"
            ]
        };

        const EmojiWorldGame = () => {
            const canvasRef = React.useRef(null);
            const [gameState, setGameState] = React.useState({
                playerX: 0,
                playerY: 0,
                currentZone: 0,
                message: 'Bienvenue dans Emoji World ! Utilisez les flÃ¨ches pour vous dÃ©placer.',
                showMap: false,
                coins: 0,
                celebrating: false,
                currentMission: null
            });

            const SCREEN_WIDTH = 800;
            const SCREEN_HEIGHT = 600;
            const TILE_SIZE = 50;
            const GRID_WIDTH = 16;
            const GRID_HEIGHT = 12;

            const [npcs, setNpcs] = React.useState(() => {
                const npcList = zones.map((zone, zoneIndex) => 
                    Array(10).fill().map((_, index) => ({
                        x: Math.floor(Math.random() * GRID_WIDTH),
                        y: Math.floor(Math.random() * GRID_HEIGHT),
                        emoji: index < 3 ? zone.landmarks[index % zone.landmarks.length] : "ðŸ‘¤",
                        isNPC: index >= 3,
                        name: `NPC${zoneIndex}${index}`,
                        hint: ""
                    }))
                );
                return npcList;
            });

            const generateNewMission = React.useCallback(() => {
                const missionZone = Math.floor(Math.random() * zones.length);
                const missionNPC = npcs[missionZone].find(npc => npc.isNPC);
                if (missionNPC) {
                    missionNPC.isMissionTarget = true;
                    return { zone: missionZone, npc: missionNPC };
                }
                return null;
            }, [npcs]);

            React.useEffect(() => {
                if (!gameState.currentMission) {
                    const newMission = generateNewMission();
                    setGameState(prev => ({ ...prev, currentMission: newMission }));
                }
            }, [gameState.currentMission, generateNewMission]);

            const generateHints = React.useCallback(() => {
                if (!gameState.currentMission) return;

                const { zone: missionZone, npc: missionNPC } = gameState.currentMission;
                const nearbyLandmarks = npcs[missionZone].filter(npc => !npc.isNPC && 
                    Math.abs(npc.x - missionNPC.x) <= 3 && Math.abs(npc.y - missionNPC.y) <= 3);

                const updatedNpcs = npcs.map((zoneNpcs, zoneIndex) => 
                    zoneNpcs.map(npc => {
                        if (npc.isNPC && !npc.isMissionTarget) {
                            if (zoneIndex === missionZone) {
                                const landmark = nearbyLandmarks[Math.floor(Math.random() * nearbyLandmarks.length)];
                                const hintList = landmarkHints[landmark?.emoji] || [];
                                npc.hint = hintList[Math.floor(Math.random() * hintList.length)] || 
                                           `Il y a quelque chose d'intÃ©ressant prÃ¨s de ${landmark?.emoji}`;
                            } else {
                                const hintList = zoneHints[zones[missionZone].emoji] || [];
                                npc.hint = hintList[Math.floor(Math.random() * hintList.length)] || 
                                           `Votre objectif se trouve dans ${zones[missionZone].name}`;
                            }
                        }
                        return npc;
                    })
                );
                setNpcs(updatedNpcs);
            }, [gameState.currentMission, npcs]);

            React.useEffect(() => {
                generateHints();
            }, [generateHints]);

            const drawGame = React.useCallback(() => {
                const canvas = canvasRef.current;
                if (!canvas) return;
                const ctx = canvas.getContext('2d');

                ctx.fillStyle = zones[gameState.currentZone].color;
                ctx.fillRect(0, 0, SCREEN_WIDTH, SCREEN_HEIGHT);

                ctx.strokeStyle = 'rgba(0, 0, 0, 0.2)';
                for (let x = 0; x <= SCREEN_WIDTH; x += TILE_SIZE) {
                    ctx.beginPath();
                    ctx.moveTo(x, 0);
                    ctx.lineTo(x, SCREEN_HEIGHT);
                    ctx.stroke();
                }
                for (let y = 0; y <= SCREEN_HEIGHT; y += TILE_SIZE) {
                    ctx.beginPath();
                    ctx.moveTo(0, y);
                    ctx.lineTo(SCREEN_WIDTH, y);
                    ctx.stroke();
                }

                ctx.font = '36px Arial';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                npcs[gameState.currentZone].forEach(npc => {
                    ctx.fillText(npc.emoji, npc.x * TILE_SIZE + TILE_SIZE / 2, npc.y * TILE_SIZE + TILE_SIZE / 2);
                });

                ctx.fillStyle = 'yellow';
                ctx.fillRect(gameState.playerX * TILE_SIZE + 5, gameState.playerY * TILE_SIZE + 5, TILE_SIZE - 10, TILE_SIZE - 10);

                if (gameState.celebrating) {
                    ctx.fillStyle = 'rgba(255, 215, 0, 0.5)';
                    ctx.fillRect(0, 0, SCREEN_WIDTH, SCREEN_HEIGHT);
                    ctx.font = '48px Arial';
                    ctx.fillStyle = 'black';
                    ctx.fillText('ðŸŽ‰ Mission Accomplie ! ðŸŽ‰', SCREEN_WIDTH / 2, SCREEN_HEIGHT / 2);
                }

                ctx.font = '24px Arial';
                ctx.fillStyle = 'black';
                ctx.fillText(`PiÃ¨ces: ${gameState.coins}`, SCREEN_WIDTH - 80, 30);
            }, [gameState, npcs]);

            React.useEffect(() => {
                drawGame();
            }, [gameState, drawGame]);

            const handleInteraction = (npc) => {
                if (npc.isMissionTarget) {
                    const reward = 100;
                    setGameState(prev => ({ 
                        ...prev, 
                        celebrating: true, 
                        coins: prev.coins + reward,
                        message: `Mission accomplie ! Vous avez gagnÃ© ${reward} piÃ¨ces !`
                    }));
                    setTimeout(() => {
                        const newMission = generateNewMission();
                        setGameState(prev => ({ 
                            ...prev, 
                            celebrating: false,
                            currentMission: newMission,
                            message: newMission ? "Nouvelle mission : " + npcs[newMission.zone].find(n => n.isMissionTarget)?.hint : "Pas de nouvelle mission disponible pour le moment."
                        }));
                        generateHints();
                    }, 3000);
                } else if (npc.isNPC) {
                    setGameState(prev => ({ ...prev, message: npc.hint }));
                } else {
                    setGameState(prev => ({ ...prev, message: `C'est un ${npc.emoji}. Il n'y a personne Ã  qui parler ici.` }));
                }
            };

            const handleKeyDown = React.useCallback((event) => {
                if (gameState.celebrating) return;

                let newX = gameState.playerX;
                let newY = gameState.playerY;
                let newZone = gameState.currentZone;
                let newMessage = '';
                let newShowMap = gameState.showMap;

                const moveToNewZone = (direction) => {
                    const zoneLayout = [
                        [0, 1, 2],
                        [3, 4, 5],
                        [6, 7, 8]
                    ];
                    const [currentRow, currentCol] = zoneLayout.reduce((acc, row, rowIndex) => {
                        const colIndex = row.indexOf(gameState.currentZone);
                        return colIndex !== -1 ? [rowIndex, colIndex] : acc;
                    }, [-1, -1]);

                    switch (direction) {
                        case 'left':
                            return zoneLayout[currentRow][(currentCol - 1 + 3) % 3];
                        case 'right':
                            return zoneLayout[currentRow][(currentCol + 1) % 3];
                        case 'up':
                            return zoneLayout[(currentRow - 1 + 3) % 3][currentCol];
                        case 'down':
                            return zoneLayout[(currentRow + 1) % 3][currentCol];
                        default:
                            return gameState.currentZone;
                    }
                };

                switch (event.key) {
                    case 'ArrowLeft':
                        if (newX > 0) {
                            newX--;
                        } else {
                            newZone = moveToNewZone('left');
                            newX = GRID_WIDTH - 1;
                        }
                        break;
                    case 'ArrowRight':
                        if (newX < GRID_WIDTH - 1) {
                            newX++;
                        } else {
                            newZone = moveToNewZone('right');
                            newX = 0;
                        }
                        break;
                    case 'ArrowUp':
                        if (newY > 0) {
                            newY--;
                        } else {
                            newZone = moveToNewZone('up');
                            newY = GRID_HEIGHT - 1;
                        }
                        break;
                    case 'ArrowDown':
                        if (newY < GRID_HEIGHT - 1) {
                            newY++;
                        } else {
                            newZone = moveToNewZone('down');
                            newY = 0;
                        }
                        break;
                    case ' ':
                        const npc = npcs[gameState.currentZone].find(n => n.x === gameState.playerX && n.y === gameState.playerY);
                        if (npc) {
                            handleInteraction(npc);
                        } else {
                            newMessage = "Il n'y a rien ici.";
                        }
                        break;
                    case 'm':
                        newShowMap = !gameState.showMap;
                        break;
                    default:
                        return;
                }

                if (newZone !== gameState.currentZone) {
                    newMessage = `Vous entrez dans ${zones[newZone].name} ${zones[newZone].emoji}`;
                }

                setGameState(prevState => ({
                    ...prevState,
                    playerX: newX,
                    playerY: newY,
                    currentZone: newZone,
                    message: newMessage || prevState.message,
                    showMap: newShowMap
                }));
            }, [gameState, npcs, handleInteraction]);

            React.useEffect(() => {
                window.addEventListener('keydown', handleKeyDown);
                return () => window.removeEventListener('keydown', handleKeyDown);
            }, [handleKeyDown]);

            const WorldMap = () => {
                const zoneLayout = [
                    [0, 1, 2],
                    [3, 4, 5],
                    [6, 7, 8]
                ];

                return (
                    <div className="modal" onClick={() => setGameState(prev => ({ ...prev, showMap: false }))}>
                        <div className="modal-content" onClick={e => e.stopPropagation()}>
                            <button className="close-button" onClick={() => setGameState(prev => ({ ...prev, showMap: false }))}>
                                &times;
                            </button>
                            <h2>Carte du Monde</h2>
                            <div className="map-grid">
                                {zoneLayout.map((row, rowIndex) => 
                                    row.map((zoneIndex, colIndex) => (
                                        <div key={`${rowIndex}-${colIndex}`} className="map-cell" style={{ 
                                            backgroundColor: zones[zoneIndex].color, 
                                            border: zoneIndex === gameState.currentZone ? '3px solid yellow' : 'none',
                                            color: zones[zoneIndex].color === "#FFFFFF" ? "black" : "white"
                                        }}>
                                            <div className="map-emoji">{zones[zoneIndex].emoji}</div>
                                            <div className="map-name">{zones[zoneIndex].name}</div>
                                            {zoneIndex === gameState.currentZone && <div className="map-player">ðŸ‘¤</div>}
                                        </div>
                                    ))
                                )}
                            </div>
                            <div style={{ marginTop: '10px', fontSize: '14px' }}>
                                Votre position actuelle est indiquÃ©e par ðŸ‘¤.
                            </div>
                        </div>
                    </div>
                );
            };

            return (
    <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>
        <canvas ref={canvasRef} width={SCREEN_WIDTH} height={SCREEN_HEIGHT} tabIndex="0" />
        <div style={{ marginTop: '10px', height: '50px', maxWidth: '600px' }}>{gameState.message}</div>
        <div style={{ marginTop: '10px' }}>
            <p>FlÃ¨ches : Se dÃ©placer | Espace : Interagir | M : Afficher/Masquer la carte</p>
        </div>
        {gameState.showMap && <WorldMap />}
    </div>
);
        };

        ReactDOM.render(<EmojiWorldGame />, document.getElementById('root'));
    </script>
</body>
</html>